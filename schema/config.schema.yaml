$schema: "http://json-schema.org/draft-07/schema#"
title: "RNAFlow Main Configuration Schema"
description: "Schema for validating the main RNAFlow pipeline configuration file (config.yaml)"
type: "object"
properties:
  project_name:
    type: "string"
    description: "Name of the project"
    minLength: 1
  Genome_Version:
    type: "string"
    description: "Genome version to use for analysis"
    enum: ["Lsat_Salinas_v8", "Lsat_Salinas_v11", "ITAG4.1", "TAIR10.1", "GRCm39"]
  species:
    type: "string"
    description: "Species name"
    minLength: 1
  client:
    type: "string"
    description: "Client information"
    minLength: 1
  raw_data_path:
    type: "array"
    description: "Paths to raw data directories"
    items:
      type: "string"
    minItems: 1
  sample_csv:
    type: "string"
    description: "Path to sample CSV file"
    minLength: 1
  paired_csv:
    type: "string"
    description: "Path to paired samples CSV file"
    minLength: 1
  workflow:
    type: "string"
    description: "Path to workflow directory"
    minLength: 1
  data_deliver:
    type: "string"
    description: "Path to data delivery directory"
    minLength: 1
  execution_mode:
    type: "string"
    description: "Execution mode for the pipeline"
    enum: ["local", "cluster"]
    default: "local"
  queue_id:
    type: "string"
    description: "Queue ID for cluster execution"
    minLength: 1
  Library_Types:
    type: "string"
    description: "Fragment library type"
    enum: ["fr-unstranded", "fr-firststrand", "fr-secondstrand"]
    default: "fr-firststrand"
  parameter:
    type: "object"
    description: "Software parameters configuration"
    properties:
      star_index:
        type: "object"
        description: "STAR index configuration for different genome versions"
        properties:
          Lsat_Salinas_v11:
            type: "object"
            description: "Lsat Salinas v11 genome configuration"
            properties:
              index:
                type: "string"
                description: "Path to STAR index"
              genome_fa:
                type: "string"
                description: "Path to genome FASTA file"
              genome_gtf:
                type: "string"
                description: "Path to genome GTF file"
              genome_gff:
                type: "string"
                description: "Path to genome GFF file"
              rsem_index:
                type: "string"
                description: "Path to RSEM index"
              rsem_index_dir:
                type: "string"
                description: "Path to RSEM index directory"
              bed12:
                type: "string"
                description: "Path to BED12 file"
              ploidy:
                type: "number"
                description: "Ploidy value"
            required: ["index", "genome_fa", "genome_gtf", "genome_gff", "rsem_index", "rsem_index_dir", "bed12", "ploidy"]
          Lsat_Salinas_v8:
            type: "object"
            description: "Lsat Salinas v8 genome configuration"
            properties:
              index:
                type: "string"
                description: "Path to STAR index"
              genome_fa:
                type: "string"
                description: "Path to genome FASTA file"
              genome_gtf:
                type: "string"
                description: "Path to genome GTF file"
              genome_gff:
                type: "string"
                description: "Path to genome GFF file"
              rsem_index:
                type: "string"
                description: "Path to RSEM index"
              rsem_index_dir:
                type: "string"
                description: "Path to RSEM index directory"
              bed12:
                type: "string"
                description: "Path to BED12 file"
              ploidy:
                type: "number"
                description: "Ploidy value"
            required: ["index", "genome_fa", "genome_gtf", "genome_gff", "rsem_index", "rsem_index_dir", "bed12", "ploidy"]
          ITAG4.1:
            type: "object"
            description: "ITAG4.1 genome configuration"
            properties:
              index:
                type: "string"
                description: "Path to STAR index"
              genome_fa:
                type: "string"
                description: "Path to genome FASTA file"
              genome_gtf:
                type: "string"
                description: "Path to genome GTF file"
              genome_gff:
                type: "string"
                description: "Path to genome GFF file"
              rsem_index:
                type: "string"
                description: "Path to RSEM index"
              rsem_index_dir:
                type: "string"
                description: "Path to RSEM index directory"
              bed12:
                type: "string"
                description: "Path to BED12 file"
              ploidy:
                type: "number"
                description: "Ploidy value"
            required: ["index", "genome_fa", "genome_gtf", "genome_gff", "rsem_index", "rsem_index_dir", "bed12", "ploidy"]
          TAIR10.1:
            type: "object"
            description: "TAIR10.1 genome configuration"
            properties:
              index:
                type: "string"
                description: "Path to STAR index"
              genome_fa:
                type: "string"
                description: "Path to genome FASTA file"
              genome_gtf:
                type: "string"
                description: "Path to genome GTF file"
              genome_gff:
                type: "string"
                description: "Path to genome GFF file"
              rsem_index:
                type: "string"
                description: "Path to RSEM index"
              rsem_index_dir:
                type: "string"
                description: "Path to RSEM index directory"
              bed12:
                type: "string"
                description: "Path to BED12 file"
              ploidy:
                type: "number"
                description: "Ploidy value"
            required: ["index", "genome_fa", "genome_gtf", "genome_gff", "rsem_index", "rsem_index_dir", "bed12", "ploidy"]
          GRCm39:
            type: "object"
            description: "GRCm39 genome configuration"
            properties:
              index:
                type: "string"
                description: "Path to STAR index"
              genome_fa:
                type: "string"
                description: "Path to genome FASTA file"
              genome_gtf:
                type: "string"
                description: "Path to genome GTF file"
              genome_gff:
                type: "string"
                description: "Path to genome GFF file"
              rsem_index:
                type: "string"
                description: "Path to RSEM index"
              rsem_index_dir:
                type: "string"
                description: "Path to RSEM index directory"
              bed12:
                type: "string"
                description: "Path to BED12 file"
              ploidy:
                type: "number"
                description: "Ploidy value"
            required: ["index", "genome_fa", "genome_gtf", "genome_gff", "rsem_index", "rsem_index_dir", "bed12", "ploidy"]
    additionalProperties: true
additionalProperties: true